{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../FriendList.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { liveQuery } from \"dexie\";\n  import { db } from \"./db\";\n  import FriendCount from \"./FriendCount.svelte\";\n\n  // Query parameters:\n  let namePattern = \"\";\n  let minAge = 18;\n  let maxAge = 65;\n  let orderBy = \"age\";\n  let offset = 0;\n  let pageSize = 25;\n\n  $: {\n    // When any query parameter change...\n    orderBy;\n    minAge;\n    maxAge;\n    namePattern;\n    // Reset paging:\n    offset = 0;\n  }\n  //\n  // Query\n  //\n  $: friends = liveQuery(async () => {\n    if (orderBy === \"age\") {\n      const friends = await db.friends\n        .where(\"age\")\n        .between(minAge || 0, maxAge || Infinity, true, true)\n        .filter(friend =>\n          friend.name.toLowerCase().startsWith(namePattern.toLowerCase())\n        )\n        .offset(offset)\n        .limit(pageSize)\n        .toArray();\n      return friends;\n    } else if (orderBy === \"name\") {\n      const friends = await db.friends\n        .where(\"name\")\n        .startsWithIgnoreCase(namePattern)\n        .filter(friend => friend.age >= minAge && friend.age <= maxAge)\n        .offset(offset)\n        .limit(pageSize)\n        .toArray();\n      return friends;\n    }\n  });\n</script>\n<fieldset>\n  <legend>Query Parameters:</legend>\n<label>\n  Beginning of name:\n  <input\n    type=\"text\"\n    bind:value={namePattern} />\n</label>\n<label>\n  Minimum age:\n  <input\n    type=\"number\"\n    bind:value={minAge} />\n</label>\n<label>\n  Maximum age:\n  <input\n    type=\"number\"\n    bind:value={maxAge} />\n</label>\n<label>\n  Order by:\n  <input\n    type=\"radio\"\n    value=\"age\"\n    bind:group={orderBy} /> Age\n  <input\n    type=\"radio\"\n    value=\"name\"\n    bind:group={orderBy} /> Name\n</label>\n</fieldset>\n\n<FriendCount />\n\n{#if $friends}\n  <ul>\n    {#each $friends as friend (friend.id)}\n      <li>{friend.name}, {friend.age}</li>\n    {/each}\n  </ul>\n{/if}\n\n<!-- Pagination -->\n<button on:click={()=>offset = 0}\n  disabled={offset === 0}>\n  &lt;&lt; First page\n</button>\n<button on:click={()=>offset -= pageSize}\n  disabled={offset === 0}>\n  &lt; Previous page\n</button>\n{#if ($friends?.length === pageSize)}\n<button on:click={()=>offset += pageSize}>\n  Next page >\n</button>\n{/if}\n\n<style>\n  input:not([type=\"radio\"]) {\n    display: block;\n  }\n</style>\n"
  ],
  "names": [],
  "mappings": "AA4GE,oBAAK,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,AAAC,CAAC,AACzB,OAAO,CAAE,KAAK,AAChB,CAAC"
}